<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameBuilds - Скачать сборки</title>
    <style>
        /* Стили из предыдущего примера */
        :root { --primary: #2563eb; --dark: #1e293b; --light: #f8fafc; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #0f172a, #1e40af); color: var(--light); min-height: 100vh; }
        /* ... остальные стили из первого примера ... */
    </style>
</head>
<body>
    <header>
        <div class="logo">GameBuilds</div>
        <nav>
            <ul>
                <li><a href="#downloads">Сборки</a></li>
                <li><a href="#register">Регистрация</a></li>
                <li><a href="#support">Поддержка</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero">
        <h1>Премиум сборки игр</h1>
        <p>Скачивайте эксклюзивные игровые сборки</p>
        <a href="#downloads" class="btn">Смотреть сборки</a>
    </section>

    <!-- Блок регистрации -->
    <section id="register" style="padding: 5rem 2rem; max-width: 500px; margin: 0 auto;">
        <h2 style="text-align: center; margin-bottom: 2rem;">Регистрация</h2>
        <form id="registrationForm">
            <div style="margin-bottom: 1.5rem;">
                <label style="display: block; margin-bottom: 0.5rem;">Имя пользователя</label>
                <input type="text" id="username" required style="...">
            </div>
            <div style="margin-bottom: 1.5rem;">
                <label style="display: block; margin-bottom: 0.5rem;">Email</label>
                <input type="email" id="email" required style="...">
            </div>
            <div style="margin-bottom: 2rem;">
                <label style="display: block; margin-bottom: 0.5rem;">Пароль</label>
                <input type="password" id="password" required style="...">
            </div>
            <button type="submit" class="btn" style="width: 100%;">Зарегистрироваться</button>
        </form>
    </section>

    <!-- Блок поддержки -->
    <section id="support" style="padding: 3rem 2rem; text-align: center;">
        <h2>Техническая поддержка</h2>
        <p>Нашли ошибку? Создайте issue на GitHub:</p>
        <a href="https://github.com/ваш-логин/ваш-репозиторий/issues/new" 
           class="btn" 
           style="background: #6e5494; margin-top: 1rem;">
            Сообщить об ошибке
        </a>
    </section>

    <script>
        // GitHub API сохранения данных
        async function saveUserData(userData) {
            const token = 'ВАШ_GH_TOKEN'; // GitHub Personal Access Token
            const repo = 'ваш-логин/ваш-репозиторий'; // Например: username/gamebuilds
            const path = 'users.txt';
            
            // 1. Получаем текущее содержимое файла
            const getUrl = `https://api.github.com/repos/${repo}/contents/${path}`;
            const getResponse = await fetch(getUrl, {
                headers: { Authorization: `token ${token}` }
            });
            
            let currentContent = '';
            let sha = '';
            
            if (getResponse.ok) {
                const data = await getResponse.json();
                currentContent = atob(data.content.replace(/\n/g, ''));
                sha = data.sha;
            }
            
            // 2. Добавляем нового пользователя
            const newUser = `${userData.username}:${userData.email}:${userData.password}\n`;
            const updatedContent = currentContent + newUser;
            
            // 3. Обновляем файл
            const updateUrl = `https://api.github.com/repos/${repo}/contents/${path}`;
            const updateResponse = await fetch(updateUrl, {
                method: 'PUT',
                headers: { Authorization: `token ${token}` },
                body: JSON.stringify({
                    message: 'Добавлен новый пользователь',
                    content: btoa(updatedContent),
                    sha: sha
                })
            });
            
            return updateResponse.ok;
        }

        // Обработка формы регистрации
        document.getElementById('registrationForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const userData = {
                username: document.getElementById('username').value,
                email: document.getElementById('email').value,
                password: document.getElementById('password').value
            };
            
            const success = await saveUserData(userData);
            
            if(success) {
                alert('Регистрация успешна! Данные сохранены в GitHub');
            } else {
                alert('Ошибка при сохранении данных');
            }
        });
    </script>
</body>
</html>
